<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>Sapan Desai | Portfolio</title>

<!-- Fonts & icons -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

<style>
:root {
  --primary-color: #3498db;
  --secondary-color: #e67e22;
  --accent-color: #9b59b6;
  --success-color: #2ecc71;
  --danger-color: #e74c3c;

  --background-color: #f8f9fa;
  --background-elevated: #ffffff;
  --text-color: #222;
  --muted-text: #666;
  --shadow-color: rgba(0,0,0,0.12);
  --nav-height: 72px;
}

/* DARK THEME */
body[data-theme="dark"] {
  --background-color: #050816;
  --background-elevated: #0b1020;
  --text-color: #f5f5f5;
  --muted-text: #bbbbbb;
  --shadow-color: rgba(0,0,0,0.5);
}

/* Reset */
* {margin:0; padding:0; box-sizing:border-box;}
html,body {height:100%; scroll-behavior:smooth;}
body {
  font-family:'Poppins',sans-serif;
  background-color:var(--background-color);
  color:var(--text-color);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Navbar */
nav {
  position: sticky;
  top: 0;
  z-index: 1000;
  height: var(--nav-height);
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(5, 8, 22, 0.92);
  backdrop-filter: blur(14px);
  padding: 0 20px;
  border-bottom:1px solid rgba(255,255,255,0.08);
}
.nav-left span {
  font-weight: 700;
  color:#fff;
  font-size:1.2rem;
  letter-spacing:0.04em;
}
.nav-center {
  display:flex;
  align-items:center;
  justify-content:center;
  gap:6px;
}
nav a {
  color:white;
  text-decoration:none;
  font-size:0.98rem;
  margin:0 4px;
  padding:8px 12px;
  border-radius:999px;
  transition:0.25s;
  cursor:pointer;
  white-space:nowrap;
}
nav a:hover {
  background:linear-gradient(135deg,var(--secondary-color),var(--accent-color));
  color:white;
  transform:translateY(-1px) scale(1.03);
}
nav a.active-link {
  background:rgba(255,255,255,0.12);
}

.nav-right {
  display:flex;
  align-items:center;
  gap:10px;
}

/* Theme toggle */
#themeToggle {
  border:none;
  outline:none;
  background:rgba(255,255,255,0.08);
  border-radius:999px;
  padding:6px 10px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:6px;
  color:#fff;
  font-size:0.85rem;
  transition:0.25s;
}
#themeToggle i {font-size:1rem;}
#themeToggle:hover {
  background:rgba(255,255,255,0.18);
  transform:translateY(-1px);
}

/* Pages */
.page {
  display: none;
  opacity: 0;
  transition: opacity 0.45s ease;
  width: 100%;
  min-height: calc(100vh - var(--nav-height));
  padding: 24px 18px 40px;
  box-sizing: border-box;
  overflow-y: auto;
}
.page.active {
  display: block;
  opacity: 1;
}

/* Hero Section */
#hero {
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  text-align:center;
  background:
    radial-gradient(circle at 10% 20%, rgba(52,152,219,0.55), transparent 50%),
    radial-gradient(circle at 80% 10%, rgba(155,89,182,0.5), transparent 50%),
    radial-gradient(circle at 50% 90%, rgba(230,126,34,0.6), transparent 55%),
    #050816;
  color:#fff;
  height: calc(100vh - var(--nav-height));
  margin: 0;
  padding: 0 16px;
  position:relative;
  overflow:hidden;
}
.hero-orbit {
  position:absolute;
  width:420px;
  height:420px;
  border-radius:50%;
  border:1px dashed rgba(255,255,255,0.15);
  animation:spin 24s linear infinite;
}
.hero-orbit:nth-child(1){top:20%;left:10%;}
.hero-orbit:nth-child(2){bottom:10%;right:12%;animation-duration:34s;}
@keyframes spin {
  from{transform:rotate(0deg);}
  to{transform:rotate(360deg);}
}
#hero h1{
  font-size:3.2rem;
  margin-bottom:6px;
  text-shadow:0 4px 14px rgba(0,0,0,0.6);
  z-index:1;
}
.hero-subtitle{
  font-size:1.4rem;
  margin-bottom:16px;
  z-index:1;
}
.hero-subtitle span{
  color:var(--secondary-color);
  font-weight:600;
}
.hero-tagline{
  font-size:1rem;
  max-width:520px;
  margin:0 auto 22px;
  opacity:0.9;
  z-index:1;
}
.hero-chip-row {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:8px;
  margin-bottom:20px;
  z-index:1;
}
.hero-chip {
  border-radius:999px;
  padding:6px 12px;
  font-size:0.8rem;
  border:1px solid rgba(255,255,255,0.25);
  backdrop-filter: blur(12px);
}
#hero .cta-row {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:14px;
  z-index:1;
}
#hero .cta-btn{
  padding:12px 24px;
  font-size:1rem;
  background:linear-gradient(135deg,var(--secondary-color),var(--accent-color));
  border-radius:999px;
  color:#fff;
  text-decoration:none;
  transition:all 0.3s ease;
  border:none;
}
#hero .cta-btn.secondary{
  background:transparent;
  border:1px solid rgba(255,255,255,0.45);
}
#hero .cta-btn:hover{
  transform:translateY(-2px) scale(1.03);
  box-shadow:0 10px 30px rgba(0,0,0,0.35);
}

/* DP Circle */
.dp-circle {
  width:140px;
  height:140px;
  border-radius:50%;
  object-fit:cover;
  border:4px solid rgba(255,255,255,0.95);
  margin-bottom:12px;
  cursor:pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
  z-index:1;
}
.dp-circle:hover {
  transform:scale(1.08) translateY(-4px);
  box-shadow:0 10px 25px rgba(0,0,0,0.5);
  border-color:var(--secondary-color);
}

/* Sections */
section {
  width:100%;
  max-width:1100px;
  margin:0 auto;
  padding:30px 0;
  text-align:left;
}
section h2 {
  font-size:2rem;
  margin-bottom:10px;
}
.section-subtitle{
  font-size:0.9rem;
  color:var(--muted-text);
  margin-bottom:22px;
}

/* ABOUT â€“ PROFESSIONAL STRUCTURE */
.about-layout {
  display:grid;
  grid-template-columns: minmax(0,2.1fr) minmax(0,1.6fr);
  gap:24px;
  align-items:flex-start;
}
@media(max-width:900px){
  .about-layout {grid-template-columns:1fr;}
}

.about-profile-card,
.about-experience-card {
  background:var(--background-elevated);
  border-radius:20px;
  padding:18px 18px 16px;
  box-shadow:0 16px 40px var(--shadow-color);
  border:1px solid rgba(148,163,184,0.45);
  position:relative;
  overflow:hidden;
}
body[data-theme="dark"] .about-profile-card,
body[data-theme="dark"] .about-experience-card{
  background:linear-gradient(135deg, rgba(15,23,42,0.98), rgba(15,23,42,0.96));
}
.about-profile-card::after{
  content:"";
  position:absolute;
  width:200px;
  height:200px;
  border-radius:50%;
  background:radial-gradient(circle, rgba(79,70,229,0.35), transparent 60%);
  top:-70px;
  right:-90px;
  opacity:0.35;
  pointer-events:none;
}

/* Profile header */
.about-profile-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
  margin-bottom:10px;
}
.about-profile-main{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.about-name{
  font-size:1.2rem;
  font-weight:600;
}
.about-title{
  font-size:0.9rem;
  color:var(--muted-text);
}
.about-location{
  font-size:0.8rem;
  color:var(--muted-text);
}
.about-status-pill{
  font-size:0.78rem;
  padding:4px 10px;
  border-radius:999px;
  border:1px solid rgba(34,197,94,0.7);
  color:#16a34a;
  background:rgba(22,163,74,0.06);
  white-space:nowrap;
}

/* Summary */
.about-summary{
  font-size:0.9rem;
  color:var(--text-color);
  margin-bottom:12px;
}

/* Info grid */
.about-info-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:10px;
  margin-bottom:12px;
}
.about-info-item{
  font-size:0.8rem;
}
.about-info-label{
  display:flex;
  align-items:center;
  gap:6px;
  color:var(--muted-text);
  margin-bottom:2px;
}
.about-info-label i{
  font-size:0.85rem;
}
.about-info-value{
  font-weight:500;
}

/* Highlights */
.about-highlights{
  margin-top:4px;
  border-top:1px solid rgba(148,163,184,0.45);
  padding-top:10px;
}
.about-highlight-item{
  display:flex;
  align-items:flex-start;
  gap:8px;
  font-size:0.82rem;
  margin-bottom:6px;
}
.about-highlight-item i{
  font-size:0.9rem;
  color:#22c55e;
  margin-top:3px;
}
.about-highlight-item span{
  color:var(--muted-text);
}

/* Experience card */
.about-experience-header{
  margin-bottom:8px;
}
.about-experience-header h3{
  font-size:1rem;
  margin-bottom:4px;
}
.about-experience-header p{
  font-size:0.82rem;
  color:var(--muted-text);
}

/* Experience rows */
.about-experience-list{
  margin-top:8px;
  margin-bottom:10px;
}
.about-experience-row{
  display:flex;
  gap:8px;
  margin-bottom:8px;
}
.about-experience-icon{
  width:26px;
  height:26px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(15,23,42,0.06);
}
body[data-theme="dark"] .about-experience-icon{
  background:rgba(15,23,42,0.9);
}
.about-experience-icon i{
  font-size:0.9rem;
}
.about-experience-text{
  font-size:0.8rem;
}
.about-experience-title{
  font-weight:600;
  margin-bottom:2px;
}
.about-experience-desc{
  color:var(--muted-text);
}

/* Skills */
.about-skills-block{
  margin-top:8px;
}
.about-skills-label{
  font-size:0.82rem;
  font-weight:600;
  margin-bottom:4px;
}
.about-skills-tags{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.about-skill-tag{
  font-size:0.78rem;
  padding:4px 9px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.7);
  display:flex;
  align-items:center;
  gap:5px;
}
.about-skill-tag i{
  font-size:0.85rem;
}

/* Small stats row bottom */
.about-mini-stats{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-top:10px;
  padding-top:8px;
  border-top:1px solid rgba(148,163,184,0.4);
}
.about-mini-pill{
  font-size:0.78rem;
  padding:4px 10px;
  border-radius:999px;
  border:1px dashed rgba(148,163,184,0.8);
}

/* Projects */
.project-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:24px;
  margin-top:14px;
}
.project-item{
  position:relative;
  overflow:hidden;
  border-radius:18px;
  cursor:pointer;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  display:flex;
  justify-content:center;
  align-items:center;
  height:210px;
  box-shadow:0 12px 30px var(--shadow-color);
  background:#000;
}
.project-item img{
  width:100%;
  height:100%;
  object-fit:cover;
  opacity:0.6;
  transition:0.35s;
}
.project-item:hover{
  transform:translateY(-6px) scale(1.02);
}
.project-item:hover img{
  opacity:0.85;
  transform:scale(1.06);
}
.project-info{
  position:absolute;
  inset:auto 0 0 0;
  background:linear-gradient(to top,rgba(0,0,0,0.85),transparent);
  color:#fff;
  padding:12px 14px;
  font-size:0.9rem;
}
.project-title{ font-weight:600; }
.project-meta{
  font-size:0.75rem;
  opacity:0.9;
  margin-top:4px;
}
.project-tags{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin-top:6px;
}
.project-tag{
  font-size:0.7rem;
  padding:3px 8px;
  border-radius:999px;
  background:rgba(255,255,255,0.15);
}

/* ACHIEVEMENTS BACKGROUND */
#timeline.page {
  background:
    radial-gradient(circle at 10% 20%, rgba(52,152,219,0.55), transparent 50%),
    radial-gradient(circle at 80% 10%, rgba(155,89,182,0.5), transparent 50%),
    radial-gradient(circle at 50% 90%, rgba(230,126,34,0.6), transparent 55%),
    #050816;
  color:#f9fafb;
}
#timeline section { max-width:1100px; margin:0 auto; }
#timeline h2 { color:#ffffff; }
#timeline .section-subtitle { color:rgba(226,232,240,0.8); }

/* Achievements shell */
.achievement-shell{
  display:flex;
  flex-direction:column;
  gap:16px;
}

/* Stats row */
.achievement-stats-row{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}
.achievement-stat-pill{
  display:flex;
  align-items:center;
  gap:8px;
  padding:6px 12px;
  border-radius:999px;
  background:rgba(15,23,42,0.85);
  border:1px solid rgba(148,163,184,0.5);
  font-size:0.78rem;
  color:#e5e7eb;
}
.achievement-stat-pill i{
  font-size:0.85rem;
  color:#60a5fa;
}
.achievement-stat-pill strong{ font-size:0.95rem; }

/* Achievement filters */
.achievement-filters{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}
.achievement-filter{
  border-radius:999px;
  padding:6px 14px;
  font-size:0.78rem;
  border:1px solid rgba(148,163,184,0.8);
  background:rgba(15,23,42,0.7);
  color:#e5e7eb;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:6px;
  transition:0.25s;
}
.achievement-filter i{ font-size:0.8rem; }
.achievement-filter:hover{
  background:rgba(30,64,175,0.9);
  border-color:rgba(129,140,248,0.9);
  transform:translateY(-1px);
}
.achievement-filter.active{
  background:linear-gradient(135deg,#6366f1,#ec4899);
  border-color:transparent;
}

/* Timeline */
.achievement-timeline{
  position:relative;
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:8px;
  padding:16px 12px 8px;
  border-radius:18px;
  background:rgba(15,23,42,0.9);
  border:1px solid rgba(148,163,184,0.55);
  box-shadow:0 18px 40px rgba(15,23,42,0.9);
  overflow-x:auto;
}
.timeline-line{
  position:absolute;
  top:32px;
  left:22px;
  right:22px;
  height:2px;
  background:linear-gradient(90deg,#60a5fa,#ec4899);
  opacity:0.7;
  pointer-events:none;
}
.timeline-step{
  position:relative;
  background:none;
  border:none;
  color:#e5e7eb;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:4px;
  flex:0 0 auto;
  min-width:90px;
  padding:0 6px 6px;
  font-size:0.75rem;
}
.timeline-dot{
  width:22px;
  height:22px;
  border-radius:999px;
  border:2px solid rgba(129,140,248,0.8);
  background:#020617;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:0.85rem;
  box-shadow:0 0 0 0 rgba(59,130,246,0.5);
  transition:0.25s;
}
.timeline-step i{ color:#e5e7eb; }
.timeline-label{
  white-space:nowrap;
  color:rgba(226,232,240,0.9);
}
.timeline-step.active .timeline-dot{
  background:linear-gradient(135deg,#4f46e5,#ec4899);
  border-color:transparent;
  box-shadow:0 0 0 6px rgba(79,70,229,0.35);
  transform:translateY(-2px);
}
.timeline-step.active .timeline-label{ font-weight:600; }

#achievementDetail{ min-height:260px; }

/* Spotlight card */
.achievement-card {
  position:relative;
  background: radial-gradient(circle at top left, rgba(96,165,250,0.25), transparent 55%),
              radial-gradient(circle at bottom right, rgba(244,114,182,0.25), transparent 55%),
              rgba(15,23,42,0.9);
  backdrop-filter: blur(18px);
  border-radius: 20px;
  padding: 18px 18px 14px;
  box-shadow: 0 18px 40px rgba(15,23,42,0.85);
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  border:1px solid rgba(148,163,184,0.35);
  overflow:hidden;
}
.achievement-card::before{
  content:"";
  position:absolute;
  inset:-1px;
  border-radius:inherit;
  border:1px solid rgba(129,140,248,0.4);
  opacity:0;
  pointer-events:none;
  transition:0.3s;
}
.achievement-card::after{
  content:"";
  position:absolute;
  width:160px;
  height:160px;
  background:radial-gradient(circle, rgba(59,130,246,0.5), transparent 55%);
  top:-60px;
  right:-40px;
  opacity:0.25;
  pointer-events:none;
}
.achievement-card:hover{
  transform:translateY(-4px) scale(1.005);
  box-shadow:0 24px 60px rgba(15,23,42,0.95);
  border-color:rgba(129,140,248,0.7);
}
.achievement-card:hover::before{ opacity:1; }
.achievement-header{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:8px;
}
.achievement-icon{
  width:40px;
  height:40px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(15,23,42,0.9);
  color:#60a5fa;
  border:1px solid rgba(96,165,250,0.7);
  box-shadow:0 0 18px rgba(59,130,246,0.6);
  animation:floatIcon 3s ease-in-out infinite;
}
.achievement-header h3{ margin-bottom:2px; color:#e5e7eb; }
.achievement-sub{
  font-size:0.8rem;
  color:rgba(148,163,184,0.9);
  margin-bottom:4px;
}
.achievement-pill-row{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin-bottom:10px;
}
.achievement-pill{
  padding:4px 10px;
  border-radius:999px;
  font-size:0.75rem;
  background:rgba(30,64,175,0.3);
  border:1px solid rgba(96,165,250,0.8);
  color:#e5e7eb;
}
.achievement-card p{
  line-height:1.45;
  margin-bottom:8px;
  font-size:0.9rem;
  color:rgba(226,232,240,0.92);
}

/* Achievement media */
.achievement-media-row{
  display:grid;
  grid-template-columns:repeat(2, minmax(0,1fr));
  gap:10px;
  margin-top:8px;
}
@media(max-width:600px){
  .achievement-media-row{ grid-template-columns:1fr; }
}
.media-thumb{
  position:relative;
  border-radius:12px;
  overflow:hidden;
  border:1px solid rgba(148,163,184,0.6);
  box-shadow:0 10px 26px rgba(15,23,42,0.85);
  cursor:pointer;
  transition:transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}
.media-thumb:hover{
  transform:translateY(-3px);
  box-shadow:0 16px 40px rgba(15,23,42,0.95);
  border-color:rgba(129,140,248,0.9);
}
.media-thumb img,
.media-thumb video{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
.media-thumb-badge{
  position:absolute;
  bottom:8px;
  left:8px;
  font-size:0.7rem;
  padding:3px 8px;
  border-radius:999px;
  background:rgba(15,23,42,0.85);
  color:#e5e7eb;
  border:1px solid rgba(148,163,184,0.8);
}
.media-thumb-play{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:34px;
  height:34px;
  border-radius:50%;
  background:rgba(15,23,42,0.85);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#e5e7eb;
  border:1px solid rgba(148,163,184,0.9);
  pointer-events:none;
  font-size:0.9rem;
}
.achievement-footer-meta{
  margin-top:8px;
  font-size:0.78rem;
  color:rgba(148,163,184,0.95);
}

/* Achievement mini row */
.achievement-mini-row{
  display:flex;
  gap:10px;
  margin-top:4px;
  padding:4px 2px 2px;
  overflow-x:auto;
}
.achievement-mini-card{
  flex:0 0 160px;
  background:rgba(15,23,42,0.9);
  border-radius:14px;
  border:1px solid rgba(148,163,184,0.45);
  padding:6px;
  display:flex;
  align-items:center;
  gap:8px;
  cursor:pointer;
  transition:0.2s;
}
.achievement-mini-card:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 26px rgba(15,23,42,0.9);
  border-color:rgba(129,140,248,0.9);
}
.achievement-mini-card.active{
  background:linear-gradient(135deg,#4f46e5,#ec4899);
  border-color:transparent;
}
.achievement-mini-thumb{
  width:52px;
  height:52px;
  border-radius:10px;
  overflow:hidden;
  flex-shrink:0;
}
.achievement-mini-thumb img,
.achievement-mini-thumb video{
  width:100%;
  height:100%;
  object-fit:cover;
}
.achievement-mini-text{
  font-size:0.78rem;
  color:#e5e7eb;
}
.achievement-mini-text .mini-title{ font-weight:600; }
.achievement-mini-text .mini-meta{
  font-size:0.7rem;
  color:rgba(191,219,254,0.9);
}

/* Events section */
#events.page {
  background:var(--background-color);
}
.events-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:22px;
  margin-top:10px;
}
.event-card{
  background:var(--background-elevated);
  border-radius:18px;
  padding:18px;
  box-shadow:0 12px 34px var(--shadow-color);
  border:1px solid rgba(148,163,184,0.4);
  position:relative;
  overflow:hidden;
  cursor:pointer;
  transition:transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
}
.event-card:hover{
  transform:translateY(-4px);
  box-shadow:0 18px 40px var(--shadow-color);
  border-color:rgba(52,152,219,0.6);
}
.event-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:6px;
}
.event-name{ font-weight:600; }
.event-year{
  font-size:0.8rem;
  color:var(--muted-text);
}
.event-role{
  font-size:0.86rem;
  margin-bottom:8px;
}
.event-meta-row{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-bottom:6px;
}
.badge{
  font-size:0.75rem;
  padding:4px 9px;
  border-radius:999px;
  border:1px solid transparent;
}
.badge.coordinator{
  border-color:rgba(46,204,113,0.5);
  background:rgba(46,204,113,0.1);
  color:var(--success-color);
}
.badge.core{
  border-color:rgba(52,152,219,0.5);
  background:rgba(52,152,219,0.1);
}
.badge.upcoming{
  border-color:rgba(230,126,34,0.6);
  background:rgba(230,126,34,0.1);
  color:var(--secondary-color);
}
.badge.attended{
  border-color:rgba(155,89,182,0.6);
  background:rgba(155,89,182,0.1);
  color:var(--accent-color);
}
.event-status{
  font-size:0.8rem;
  color:var(--muted-text);
}

/* Event Modal */
.event-modal-card{
  max-width:620px;
  width:90%;
  background:var(--background-elevated);
  color:var(--text-color);
  border-radius:20px;
  padding:20px 22px 18px;
  box-shadow:0 24px 70px rgba(0,0,0,0.7);
  animation:eventPop 0.35s ease-out;
}
body[data-theme="dark"] .event-modal-card{
  background:#020617;
}
.event-modal-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:10px;
  margin-bottom:8px;
}
.event-modal-title{
  font-size:1.2rem;
  font-weight:600;
}
.event-modal-meta{
  font-size:0.8rem;
  color:var(--muted-text);
}
.event-modal-tags{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin:8px 0 10px;
}
.event-tag-pill{
  font-size:0.75rem;
  padding:4px 9px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.7);
}
.event-modal-body{
  font-size:0.9rem;
  line-height:1.5;
  margin-bottom:8px;
}
.event-modal-list{
  margin:6px 0 4px 18px;
  font-size:0.86rem;
}
.event-modal-list li{ margin-bottom:4px; }
@keyframes eventPop{
  from{opacity:0; transform:translateY(20px) scale(0.96);}
  to{opacity:1; transform:translateY(0) scale(1);}
}

/* TEAM â€“ MODERN PROFESSIONAL STRUCTURE */
#team.page {
  background:
    radial-gradient(circle at 0% 0%, rgba(52,152,219,0.14), transparent 55%),
    radial-gradient(circle at 100% 100%, rgba(155,89,182,0.18), transparent 55%),
    var(--background-color);
}

.team-shell{
  display:flex;
  flex-direction:column;
  gap:24px;
}

/* Event group block */
.team-event-group{
  background:var(--background-elevated);
  border-radius:20px;
  padding:16px 16px 14px;
  box-shadow:0 16px 40px var(--shadow-color);
  border:1px solid rgba(148,163,184,0.4);
  position:relative;
  overflow:hidden;
}
body[data-theme="dark"] .team-event-group{
  background:linear-gradient(135deg, rgba(15,23,42,0.98), rgba(15,23,42,0.96));
}
.team-event-group::before{
  content:"";
  position:absolute;
  inset:-1px;
  border-radius:inherit;
  border:1px solid rgba(129,140,248,0.45);
  opacity:0.15;
  pointer-events:none;
}
.team-event-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:10px;
  margin-bottom:12px;
}
.team-event-heading{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.team-event-title{
  font-size:1rem;
  font-weight:600;
}
.team-event-subtitle{
  font-size:0.8rem;
  color:var(--muted-text);
}
.team-event-meta{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:4px;
  font-size:0.75rem;
}
.team-event-tagpill{
  padding:4px 9px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.7);
}

/* Modern grid of members */
.team-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:18px;
  margin-top:6px;
}
.team-card{
  text-align:center;
  background:radial-gradient(circle at top, rgba(148,163,184,0.15), transparent 58%),
             var(--background-elevated);
  border-radius:18px;
  padding:16px 12px 12px;
  box-shadow:0 10px 28px var(--shadow-color);
  border:1px solid rgba(148,163,184,0.4);
  position:relative;
  overflow:hidden;
  transition:transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  cursor:pointer;
}
body[data-theme="dark"] .team-card{
  background:radial-gradient(circle at top, rgba(148,163,184,0.2), transparent 60%),
             #020617;
}
.team-card::after{
  content:"";
  position:absolute;
  width:120px;
  height:120px;
  border-radius:50%;
  background:radial-gradient(circle, rgba(79,70,229,0.4), transparent 60%);
  top:-50px;
  right:-40px;
  opacity:0.2;
}
.team-card:hover{
  transform:translateY(-4px);
  box-shadow:0 16px 40px var(--shadow-color);
  border-color:rgba(129,140,248,0.85);
}

.team-avatar{
  width:90px;
  height:90px;
  object-fit:cover;
  border-radius:50%;
  border:3px solid var(--secondary-color);
  box-shadow:0 12px 30px var(--shadow-color);
  cursor:pointer;
  position:relative;
}
.team-avatar-wrapper{
  position:relative;
  display:inline-block;
  margin-bottom:8px;
}
.team-avatar-badge{
  position:absolute;
  bottom:-4px;
  right:-2px;
  width:24px;
  height:24px;
  border-radius:50%;
  background:linear-gradient(135deg,#4f46e5,#ec4899);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-size:0.7rem;
  box-shadow:0 6px 18px rgba(79,70,229,0.8);
}

.team-name{
  font-weight:600;
  font-size:0.96rem;
  margin-top:4px;
}
.team-role{
  font-size:0.8rem;
  color:var(--muted-text);
  margin-top:2px;
}
.team-tags{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:4px;
  margin-top:8px;
}
.team-tag{
  font-size:0.7rem;
  padding:3px 7px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.6);
}
.team-links{
  margin-top:6px;
}
.team-links a{
  color:var(--primary-color);
  margin:0 4px;
  font-size:0.95rem;
}

/* Contact */
#contact form input,
#contact form textarea,
#contact form button{
  width:100%;
  padding:10px;
  margin:8px 0;
  border-radius:8px;
  border:1px solid #ccc;
  font-size:0.95rem;
  font-family:inherit;
}
body[data-theme="dark"] #contact form input,
body[data-theme="dark"] #contact form textarea {
  background:#020617;
  border-color:#1e293b;
  color:#e5e7eb;
}
#contact form textarea{min-height:120px; resize:vertical;}
#contact form button{
  background:linear-gradient(135deg,var(--secondary-color),var(--accent-color));
  color:var(--text-color);
  border:none;
  cursor:pointer;
  transition:0.3s;
  color:#fff;
}
#contact form button:hover{
  transform:translateY(-1px);
  box-shadow:0 12px 28px var(--shadow-color);
}
#status-message{ font-size:0.85rem; }

/* Footer */
footer{
  padding:18px;
  background:#020617;
  color:#9ca3af;
  text-align:center;
  font-size:0.85rem;
}
footer a{
  color:#e5e7eb;
  text-decoration:none;
  font-size:1.2rem;
  margin:0 10px;
}
footer a:hover{ color:var(--secondary-color); }

/* Animations */
@keyframes fadeIn{from{opacity:0}to{opacity:1;}}
.fade-slide-up{
  opacity:0;
  transform:translateY(20px);
  transition:opacity 0.6s ease-out, transform 0.6s ease-out;
}
.fade-slide-up.visible{
  opacity:1;
  transform:translateY(0);
}
@keyframes floatIcon {
  0%{ transform:translateY(0); }
  50%{ transform:translateY(-4px); }
  100%{ transform:translateY(0); }
}

/* Modals (shared backdrop) */
.modal{
  display:none;
  position:fixed;
  z-index:2000;
  left:0;
  top:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.9);
  justify-content:center;
  align-items:center;
}
#projectModal iframe {
  width:90%;
  height:85%;
  border:none;
  border-radius:12px;
  box-shadow:0 20px 60px rgba(0,0,0,0.8);
}

/* DP MODAL IMAGE + ZOOM ANIMATION */
.dp-modal-img{
  width:320px;
  height:320px;
  border-radius:50%;
  object-fit:cover;
  box-shadow:0 20px 50px rgba(0,0,0,0.6);
  opacity:0;
  transform:scale(0.6);
}
.dp-modal-img.dp-zoom-in{
  animation: dpZoomIn 0.45s ease-out forwards;
}
@keyframes dpZoomIn{
  0%{ opacity:0; transform:scale(0.6) translateY(20px); }
  60%{ opacity:1; transform:scale(1.05) translateY(0); }
  100%{ opacity:1; transform:scale(1); }
}

.close-modal{
  position:absolute;
  top:18px;
  right:26px;
  font-size:2.4rem;
  color:white;
  cursor:pointer;
  font-weight:bold;
  z-index:2001;
}

/* Media modal for achievements */
.media-modal-element{
  max-width:90%;
  max-height:85%;
  border-radius:18px;
  box-shadow:0 20px 60px rgba(0,0,0,0.85);
}
#mediaModalVideo{ background:#000; }

/* TEAM MODAL â€“ spotlight card */
.team-modal-card{
  max-width:420px;
  width:90%;
  background: radial-gradient(circle at top left, rgba(96,165,250,0.25), transparent 55%),
              radial-gradient(circle at bottom right, rgba(244,114,182,0.25), transparent 55%),
              rgba(15,23,42,0.96);
  border-radius:24px;
  padding:22px 20px 18px;
  box-shadow:0 26px 70px rgba(0,0,0,0.85);
  text-align:center;
  color:#e5e7eb;
  border:1px solid rgba(148,163,184,0.55);
  animation:teamPop 0.4s ease-out;
}
@keyframes teamPop{
  0%{opacity:0; transform:translateY(18px) scale(0.96);}
  60%{opacity:1; transform:translateY(-4px) scale(1.02);}
  100%{opacity:1; transform:translateY(0) scale(1);}
}
.team-modal-img{
  width:170px;
  height:170px;
  border-radius:50%;
  object-fit:cover;
  border:3px solid rgba(251,191,36,0.9);
  box-shadow:0 18px 40px rgba(15,23,42,0.9);
  margin-bottom:10px;
}
.team-modal-name{
  font-size:1.2rem;
  font-weight:600;
  margin-bottom:4px;
}
.team-modal-role{
  font-size:0.9rem;
  color:rgba(226,232,240,0.9);
  margin-bottom:10px;
}
.team-modal-tags{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:6px;
  margin-bottom:6px;
}
.team-modal-tag{
  font-size:0.72rem;
  padding:3px 9px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.8);
  background:rgba(15,23,42,0.9);
}

/* Mobile */
@media(max-width:768px){
  #hero h1{font-size:2.1rem;}
  .hero-subtitle{font-size:1.2rem;}
  .hero-tagline{font-size:0.9rem;}
  #hero .cta-btn{font-size:0.9rem;padding:10px 18px;}
  .dp-modal-img{width:240px; height:240px;}
  .team-modal-img{width:150px; height:150px;}
  nav{padding:0 10px;}
  .nav-center{display:none;}
}

/* Utility */
.muted{color:var(--muted-text); font-size:0.8rem;}
</style>
</head>
<body data-theme="light">

<!-- Navbar -->
<nav>
  <div class="nav-left">
    <span>&lt;Sapan's Portfolio&gt;</span>
  </div>
  <div class="nav-center">
    <a data-target="hero" class="active-link">Home</a>
    <a data-target="about">About</a>
    <a data-target="projects">Projects</a>
    <a data-target="timeline">Achievements</a>
    <a data-target="events">Events</a>
    <a data-target="team">Teams</a>
    <a data-target="contact">Contact</a>
  </div>
  <div class="nav-right">
    <button id="themeToggle">
      <i class="fas fa-moon"></i>
      <span>Dark</span>
    </button>
  </div>
</nav>

<!-- HERO -->
<div id="hero" class="page active">
  <div class="hero-orbit"></div>
  <div class="hero-orbit"></div>

  <img id="dpCircle" class="dp-circle" src="images/sapan.jpeg" alt="Sapan Desai" onclick="openDpModal()"/>

  <h1>Web Developer Portfolio</h1>

  <p class="hero-subtitle">
    Hi, Iâ€™m <span>Sapan Desai</span> â€” <span id="typed-role"></span>
  </p>

  <p class="hero-tagline">
    Crafting clean UIs, scalable backends, and event experiences â€” from hackathons to college fests like Agnitio 2025.
  </p>

  <div class="hero-chip-row">
    <span class="hero-chip">Full-Stack Web</span>
    <span class="hero-chip">Hackathon Enthusiast</span>
    <span class="hero-chip">Event Handling & Coordination</span>
  </div>

  <div class="cta-row">
    <a class="cta-btn" data-target="projects">ðŸš€ View Projects</a>
    <a class="cta-btn secondary" data-target="events">ðŸ“… Recent Events</a>
  </div>
</div>

<!-- ABOUT â€“ PROFESSIONAL VERSION -->
<div id="about" class="page">
  <section>
    <h2>About Me</h2>
    <p class="section-subtitle">
      A web developer and event handler with a clear focus on ownership, structure and delivering things that actually work in real environments.
    </p>

    <div class="about-layout">
      <!-- LEFT: PROFILE -->
      <div class="about-profile-card">
        <div class="about-profile-header">
          <div class="about-profile-main">
            <div class="about-name">Sapan Desai</div>
            <div class="about-title">Web Developer & Event Handling Lead</div>
            <div class="about-location"><i class="fas fa-location-dot"></i> CMPICA, CHARUSAT Â· Gujarat, India</div>
          </div>
          <div class="about-status-pill">
            <i class="fas fa-circle" style="font-size:0.6rem;"></i> Open to opportunities
          </div>
        </div>

        <p class="about-summary">
          I work across <strong>front-end</strong> and <strong>basic back-end</strong> development, and I actively take
          responsibility for <strong>college events, hackathons and fest handling</strong>. I like clear structures,
          reliable execution and making sure both the product and the event experience feel professional.
        </p>

        <div class="about-info-grid">
          <div class="about-info-item">
            <div class="about-info-label">
              <i class="fas fa-user-tie"></i> Role
            </div>
            <div class="about-info-value">Web Developer & Event Lead</div>
          </div>
          <div class="about-info-item">
            <div class="about-info-label">
              <i class="fas fa-briefcase"></i> Experience
            </div>
            <div class="about-info-value">Projects + Fests + Hackathons</div>
          </div>
          <div class="about-info-item">
            <div class="about-info-label">
              <i class="fas fa-bullseye"></i> Focus Areas
            </div>
            <div class="about-info-value">Web Apps, Event Handling, Coordination</div>
          </div>
        </div>

        <div class="about-highlights">
          <div class="about-highlight-item">
            <i class="fas fa-check-circle"></i>
            <span>
              Built projects like a <strong>School Tracking App</strong>, a <strong>Financial Services platform</strong>, and multiple portfolio concepts.
            </span>
          </div>
          <div class="about-highlight-item">
            <i class="fas fa-check-circle"></i>
            <span>
              Coordinated and handled events including <strong>Agnitio 2025</strong>, <strong>TechTonic Hackathon 2025</strong>,
              and core handling for <strong>Ignite</strong>.
            </span>
          </div>
          <div class="about-highlight-item">
            <i class="fas fa-check-circle"></i>
            <span>
              Participated in a <strong>36 hours AI/ML Healthcare Hackathon</strong> at Parul University and
              contributed to a hackathon winning project <strong>GhostKey â€“ Q&A Platform</strong>.
            </span>
          </div>
        </div>
      </div>

      <!-- RIGHT: EXPERIENCE & SKILLS SNAPSHOT -->
      <div class="about-experience-card fade-slide-up">
        <div class="about-experience-header">
          <h3>Experience & Skills Overview</h3>
          <p>Structured around development, event handling and hackathon exposure.</p>
        </div>

        <div class="about-experience-list">
          <div class="about-experience-row">
            <div class="about-experience-icon">
              <i class="fas fa-code"></i>
            </div>
            <div class="about-experience-text">
              <div class="about-experience-title">Web Development</div>
              <div class="about-experience-desc">
                Building responsive UIs, basic full-stack flows and small applications using <strong>HTML, CSS, JavaScript, C#</strong> and
                <strong>Python (Basics)</strong>.
              </div>
            </div>
          </div>

          <div class="about-experience-row">
            <div class="about-experience-icon">
              <i class="fas fa-users-cog"></i>
            </div>
            <div class="about-experience-text">
              <div class="about-experience-title">Event Handling & Coordination</div>
              <div class="about-experience-desc">
                Managing volunteers, communication and on-ground execution for college fests and hackathons
                (Agnitio 2025, TechTonic Hackathon 2025, Ignite handling).
              </div>
            </div>
          </div>

          <div class="about-experience-row">
            <div class="about-experience-icon">
              <i class="fas fa-lightbulb"></i>
            </div>
            <div class="about-experience-text">
              <div class="about-experience-title">Hackathons & Pitches</div>
              <div class="about-experience-desc">
                Working on real problems under time pressure, including a <strong>36 hours AI/ML Healthcare hackathon</strong> and
                <strong>GDG Charusat pitch rounds</strong>.
              </div>
            </div>
          </div>
        </div>

        <div class="about-skills-block">
          <div class="about-skills-label">Technical Skills</div>
          <div class="about-skills-tags">
            <span class="about-skill-tag"><i class="fab fa-html5"></i> HTML5</span>
            <span class="about-skill-tag"><i class="fab fa-css3-alt"></i> CSS3</span>
            <span class="about-skill-tag"><i class="fab fa-js-square"></i> JavaScript</span>
            <span class="about-skill-tag"><i class="fas fa-code"></i> C#</span>
            <span class="about-skill-tag"><i class="fab fa-python"></i> Python (Basics)</span>
          </div>
        </div>

        <div class="about-skills-block">
          <div class="about-skills-label">What Iâ€™m good at</div>
          <div class="about-skills-tags">
            <span class="about-skill-tag"><i class="fas fa-layer-group"></i> Clean UI & Structure</span>
            <span class="about-skill-tag"><i class="fas fa-route"></i> End-to-end Flow Thinking</span>
            <span class="about-skill-tag"><i class="fas fa-people-carry"></i> Team & Volunteer Handling</span>
            <span class="about-skill-tag"><i class="fas fa-microphone-alt"></i> Coordination & Communication</span>
          </div>
        </div>

        <div class="about-mini-stats">
          <span class="about-mini-pill">10+ projects built</span>
          <span class="about-mini-pill">5+ events handled</span>
          <span class="about-mini-pill">1 hackathon win</span>
          <span class="about-mini-pill">36h continuous hackathon experience</span>
        </div>
      </div>
    </div>
  </section>
</div>

<!-- PROJECTS -->
<div id="projects" class="page">
  <section>
    <h2>Projects</h2>
    <p class="section-subtitle">
      Some of the work Iâ€™ve built and shipped. The list is dynamic â€“ I keep adding as I build more.
    </p>
    <div id="projectsGrid" class="project-grid"></div>
  </section>
</div>

<!-- ACHIEVEMENTS -->
<div id="timeline" class="page">
  <section>
    <h2>Achievements</h2>
    <p class="section-subtitle">
      A curated track of my journey â€“ hackathons, fests and stages where I took responsibility and delivered.
    </p>

    <div class="achievement-shell">
      <div id="achievementMiniRow" class="achievement-mini-row"></div>

      <div class="achievement-stats-row">
        <div class="achievement-stat-pill">
          <i class="fas fa-trophy"></i>
          <span><strong>1</strong> Hackathon Win</span>
        </div>
        <div class="achievement-stat-pill">
          <i class="fas fa-laptop-code"></i>
          <span><strong>2</strong> Major Tech Fests</span>
        </div>
        <div class="achievement-stat-pill">
          <i class="fas fa-microphone-alt"></i>
          <span><strong>1</strong> Pitch Round</span>
        </div>
        <div class="achievement-stat-pill">
          <i class="fas fa-film"></i>
          <span><strong>2+</strong> Event Reels</span>
        </div>
      </div>

      <div class="achievement-filters">
        <button class="achievement-filter active" data-filter="all">
          <i class="fas fa-layer-group"></i> All
        </button>
        <button class="achievement-filter" data-filter="hackathon">
          <i class="fas fa-trophy"></i> Hackathons
        </button>
        <button class="achievement-filter" data-filter="gdg">
          <i class="fas fa-microphone-alt"></i> GDG / Pitches
        </button>
        <button class="achievement-filter" data-filter="events">
          <i class="fas fa-film"></i> Event Reels
        </button>
      </div>

      <div id="achievementTimeline" class="achievement-timeline"></div>
      <div id="achievementDetail" class="fade-slide-up"></div>
    </div>
  </section>
</div>

<!-- EVENTS -->
<div id="events" class="page">
  <section>
    <h2>Recent Events & Responsibilities</h2>
    <p class="section-subtitle">
      From coordinating Agnitio 2025 to handling upcoming Ignite and hackathons, these are the events that shaped my experience.
    </p>

    <div class="events-grid">
      <div class="event-card fade-slide-up" data-event-id="agnitio">
        <div class="event-header">
          <div class="event-name">Agnitio 2025</div>
          <div class="event-year">2025</div>
        </div>
        <p class="event-role"><strong>Role:</strong> Event Coordinator &amp; Core Handling</p>
        <div class="event-meta-row">
          <span class="badge coordinator">Coordinator</span>
          <span class="badge core">Core Handling Team</span>
        </div>
        <p class="event-status">
          Coordinated and managed major parts of Agnitio 2025, including volunteers, on-ground management, and smooth event flow.
        </p>
      </div>

      <div class="event-card fade-slide-up" data-event-id="ignite">
        <div class="event-header">
          <div class="event-name">Ignite (Coming Soon)</div>
          <div class="event-year">2025</div>
        </div>
        <p class="event-role">
          <strong>Role:</strong> Core Handling Team (not official coordinator, but event handling managed by our group).
        </p>
        <div class="event-meta-row">
          <span class="badge core">Core Handling</span>
          <span class="badge upcoming">Upcoming</span>
        </div>
        <p class="event-status">
          Our group is responsible for handling and managing the Ignite event operations â€“ planning, execution, and coordination with faculty & participants.
        </p>
      </div>

      <div class="event-card fade-slide-up" data-event-id="healthcare36">
        <div class="event-header">
          <div class="event-name">36 Hours AI/ML Healthcare Hackathon</div>
          <div class="event-year">Parul University</div>
        </div>
        <p class="event-role">
          <strong>Role:</strong> Participant (36-hour Hackathon)
        </p>
        <div class="event-meta-row">
          <span class="badge attended">Attended</span>
          <span class="badge core">AI / ML</span>
        </div>
        <p class="event-status">
          Participated in a 36-hour AI/ML hackathon focused on healthcare solutions at Parul University, working under time pressure and collaborating with a team.
        </p>
      </div>

      <div class="event-card fade-slide-up" data-event-id="techtonic">
        <div class="event-header">
          <div class="event-name">TechTonic Hackathon 2025</div>
          <div class="event-year">CMPICA, CHARUSAT</div>
        </div>
        <p class="event-role">
          <strong>Role:</strong> Hackathon Coordinator
        </p>
        <div class="event-meta-row">
          <span class="badge coordinator">Coordinator</span>
          <span class="badge core">CMPICA Hackathon</span>
        </div>
        <p class="event-status">
          Served as a coordinator for TechTonic Hackathon 2025 at CMPICA, CHARUSAT â€“ helping in planning, managing participants, and ensuring a smooth hackathon experience.
        </p>
      </div>
    </div>
  </section>
</div>

<!-- TEAMS â€“ MODERN STRUCTURE -->
<div id="team" class="page">
  <section>
    <h2>Teams by Event</h2>
    <p class="section-subtitle">
      Event-wise overview of the people I work with â€“ the faces behind fests, hackathons, and pitches.
    </p>

    <div class="team-shell">

      <!-- Agnitio 2025 Team -->
      <div class="team-event-group fade-slide-up">
        <div class="team-event-header">
          <div class="team-event-heading">
            <div class="team-event-title">Agnitio 2025 â€“ Core Coordination Team</div>
            <div class="team-event-subtitle">
              Coordinating volunteers, stage flow, and full on-ground execution for the fest.
            </div>
          </div>
          <div class="team-event-meta">
            <span class="team-event-tagpill">Fest Â· Coordination</span>
            <span class="team-event-tagpill">Location: CMPICA, CHARUSAT</span>
          </div>
        </div>

        <div class="team-grid">
          <div class="team-card">
            <div class="team-avatar-wrapper">
              <img class="team-avatar" src="images/agnitio3.jpg" alt="Sapan Desai" />
              <div class="team-avatar-badge"><i class="fas fa-crown"></i></div>
            </div>
            <div class="team-name">Sapan Desai</div>
            <div class="team-role">Lead Coordinator & Event Handling</div>
            <div class="team-tags">
              <span class="team-tag">Overall Flow</span>
              <span class="team-tag">Volunteer Management</span>
              <span class="team-tag">On-stage & Backstage</span>
            </div>
            <div class="team-links">
              <a href="https://www.linkedin.com/in/sapan-desai-b83799234" target="_blank"><i class="fab fa-linkedin"></i></a>
              <a href="https://www.instagram.com/code_with_sapan" target="_blank"><i class="fab fa-instagram"></i></a>
            </div>
          </div>

          <div class="team-card">
            <div class="team-avatar-wrapper">
              <img class="team-avatar" src="images/Core Team.jpg" alt="Core Team Member" />
              <div class="team-avatar-badge"><i class="fas fa-users"></i></div>
            </div>
            <div class="team-name">Core Team Member</div>
            <div class="team-role">Logistics & Coordination Support</div>
            <div class="team-tags">
              <span class="team-tag">Logistics</span>
              <span class="team-tag">Stage Support</span>
              <span class="team-tag">Team Coordination</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Ignite Team -->
      <div class="team-event-group fade-slide-up">
        <div class="team-event-header">
          <div class="team-event-heading">
            <div class="team-event-title">Ignite â€“ Core Handling Team</div>
            <div class="team-event-subtitle">
              Our group handles the full responsibility: planning, coordination, and on-day execution.
            </div>
          </div>
          <div class="team-event-meta">
            <span class="team-event-tagpill">Upcoming Â· 2025</span>
            <span class="team-event-tagpill">Responsibility: Handling</span>
          </div>
        </div>

        <div class="team-grid">
          <div class="team-card">
            <div class="team-avatar-wrapper">
              <img class="team-avatar" src="" alt="Sapan Desai" />
              <div class="team-avatar-badge"><i class="fas fa-wrench"></i></div>
            </div>
            <div class="team-name">Sapan Desai</div>
            <div class="team-role">Core Handling & Operations</div>
            <div class="team-tags">
              <span class="team-tag">Planning</span>
              <span class="team-tag">Coordination</span>
              <span class="team-tag">On-ground Handling</span>
            </div>
          </div>

          <div class="team-card">
            <div class="team-avatar-wrapper">
              <img class="team-avatar" src="" alt="Core Team Member" />
              <div class="team-avatar-badge"><i class="fas fa-user-friends"></i></div>
            </div>
            <div class="team-name">Core Team Member</div>
            <div class="team-role">Execution & Support</div>
            <div class="team-tags">
              <span class="team-tag">Logistics</span>
              <span class="team-tag">Participant Support</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Hackathons & GDG (SEPARATED CARDS) -->
      <div class="team-event-group fade-slide-up">
        <div class="team-event-header">
          <div class="team-event-heading">
            <div class="team-event-title">Hackathons & GDG Activities</div>
            <div class="team-event-subtitle">
              Separate teams for GhostKey (Parul Hackathon win), TechTonic coordination, and GDG Charusat pitch.
            </div>
          </div>
          <div class="team-event-meta">
            <span class="team-event-tagpill">Hackathons Â· GDG</span>
            <span class="team-event-tagpill">Projects & Pitches</span>
          </div>
        </div>

        <div class="team-grid">
          <!-- 1ï¸âƒ£ GhostKey â€“ Parul Hackathon Winning Team -->
          <div class="team-card">
            <div class="team-avatar-wrapper">
              <img class="team-avatar" src="images/parul.jpeg" alt="GhostKey â€“ Parul Hackathon" />
              <div class="team-avatar-badge"><i class="fas fa-trophy"></i></div>
            </div>
            <div class="team-name">Sapan Desai</div>
            <div class="team-role">Lead Developer â€“ GhostKey (Parul Hackathon)</div>
            <div class="team-tags">
              <span class="team-tag">GhostKey</span>
              <span class="team-tag">Parul Hackathon Winner</span>
              <span class="team-tag">Ghost Key</span>
            </div>
            <div class="team-links">
              <a href="https://www.linkedin.com/in/sapan-desai-b83799234" target="_blank"><i class="fab fa-linkedin"></i></a>
              <a href="https://www.instagram.com/code_with_sapan" target="_blank"><i class="fab fa-instagram"></i></a>
            </div>
          </div>

          <!-- 2ï¸âƒ£ TechTonic Hackathon 2025 â€“ Coordinator -->
          <div class="team-card">
            <div class="team-avatar-wrapper">
              <img class="team-avatar" src="images/WhatsApp Image 2025-09-14 at 11.54.00 PMss.jpeg" alt="TechTonic Coordinator" />
              <div class="team-avatar-badge"><i class="fas fa-network-wired"></i></div>
            </div>
            <div class="team-name">Sapan Desai</div>
            <div class="team-role">Coordinator â€“ TechTonic Hackathon 2025</div>
            <div class="team-tags">
              <span class="team-tag">Event Coordination</span>
              <span class="team-tag">CMPICA Hackathon</span>
              <span class="team-tag">Participant Handling</span>
            </div>
          </div>

          <!-- 3ï¸âƒ£ GDG Charusat â€“ Pitch Round -->
          <div class="team-card">
            <div class="team-avatar-wrapper">
              <img class="team-avatar" src="images/gdg3.jpeg" alt="GDG Charusat Pitch" />
              <div class="team-avatar-badge"><i class="fas fa-microphone-alt"></i></div>
            </div>
            <div class="team-name">Sapan Desai</div>
            <div class="team-role">Pitch Presenter â€“ GDG Charusat</div>
            <div class="team-tags">
              <span class="team-tag">GDG Charusat</span>
              <span class="team-tag">Pitch Round</span>
              <span class="team-tag">Public Speaking</span>
            </div>
          </div>

          <!-- Core Team Member -->
          <div class="team-card">
            <div class="team-avatar-wrapper">
              <img class="team-avatar" src="images/WhatsApp Image 2025-09-14 at 11.52.28 PM.jpeg" alt="Core Team Member" />
              <div class="team-avatar-badge"><i class="fas fa-user-plus"></i></div>
            </div>
            <div class="team-name">Core Team Member</div>
            <div class="team-role">Co-Developer / Support</div>
            <div class="team-tags">
              <span class="team-tag">Development Support</span>
              <span class="team-tag">Idea Discussion</span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>
</div>

<!-- CONTACT -->
<div id="contact" class="page">
  <section>
    <h2>Contact Me</h2>
    <p class="section-subtitle">
      Want to collaborate on a project or need support with event handling / web development? Drop me a message.
    </p>
    <form id="contact-form">
      <input type="text" name="name" placeholder="Your Name" required />
      <input type="email" name="email" placeholder="Your Email" required />
      <textarea name="message" placeholder="Your Message" required></textarea>
      <button type="submit">Send Message</button>
      <p id="status-message" style="display:none;"></p>
    </form>
  </section>
</div>

<!-- Footer -->
<footer>
  <p>&copy; 2025 Sapan Desai | All Rights Reserved</p>
  <div style="margin-top:6px;">
    <a href="https://www.linkedin.com/in/sapan-desai-b83799234" target="_blank"><i class="fab fa-linkedin"></i></a>
    <a href="https://www.instagram.com/code_with_sapan" target="_blank"><i class="fab fa-instagram"></i></a>
  </div>
</footer>

<!-- Modals -->
<div id="projectModal" class="modal" aria-hidden="true">
  <span class="close-modal" onclick="closeModal()">&times;</span>
  <iframe id="projectIframe" src="" title="Project preview"></iframe>
</div>

<div id="dpModal" class="modal" aria-hidden="true">
  <span class="close-modal" onclick="closeDpModal()">&times;</span>
  <img id="dpModalImg" class="dp-modal-img" src="" alt="Sapan Desai">
</div>

<div id="mediaModal" class="modal" aria-hidden="true">
  <span class="close-modal" onclick="closeMediaModal()">&times;</span>
  <img id="mediaModalImg" class="media-modal-element" src="" alt="Media" style="display:none;">
  <video id="mediaModalVideo" class="media-modal-element" src="" controls style="display:none;"></video>
</div>

<div id="eventModal" class="modal" aria-hidden="true">
  <span class="close-modal" onclick="closeEventModal()">&times;</span>
  <div id="eventModalCard" class="event-modal-card"></div>
</div>

<div id="teamModal" class="modal" aria-hidden="true">
  <span class="close-modal" onclick="closeTeamModal()">&times;</span>
  <div class="team-modal-card">
    <img id="teamModalImg" class="team-modal-img" src="" alt="Team Member">
    <div id="teamModalName" class="team-modal-name"></div>
    <div id="teamModalRole" class="team-modal-role"></div>
    <div id="teamModalTags" class="team-modal-tags"></div>
  </div>
</div>

<!-- Typed.js -->
<script src="https://cdn.jsdelivr.net/npm/typed.js@2.1.0/dist/typed.umd.js"></script>

<script>
/* Theme toggle */
(function(){
  const body = document.body;
  const btn = document.getElementById('themeToggle');
  const saved = localStorage.getItem('sapan-theme');
  if(saved){
    body.setAttribute('data-theme', saved);
    updateThemeButton(saved);
  }
  btn.addEventListener('click', ()=>{
    const current = body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
    body.setAttribute('data-theme', current);
    localStorage.setItem('sapan-theme', current);
    updateThemeButton(current);
  });
  function updateThemeButton(theme){
    const icon = btn.querySelector('i');
    const text = btn.querySelector('span');
    if(theme === 'dark'){
      icon.className = 'fas fa-sun';
      text.textContent = 'Light';
    } else {
      icon.className = 'fas fa-moon';
      text.textContent = 'Dark';
    }
  }
})();

/* Projects data */
const projects = [
  {
    title: "Financial Services Landing",
    description: "Modern responsive finance website.",
    image: "https://img.freepik.com/premium-photo/business-finance-accounting-businessman-hand-holding-financial-service-icon-virtual-screen_1296497-206.jpg",
    url: "https://sapan02206.github.io/Financial-services/",
    tags: ["Landing Page", "Responsive", "UI/UX"]
  },
  {
    title: "Train Booking Concept",
    description: "UI concept for a train booking interface.",
    image: "https://s3.envato.com/files/137361854/jpg/00-banner.__large_preview.jpg",
    url: "https://sapan02206.github.io/Train/",
    tags: ["Concept UI", "Travel", "Frontend"]
  }
];

function renderProjects(){
  const grid = document.getElementById('projectsGrid');
  grid.innerHTML = '';
  projects.forEach(proj=>{
    const card = document.createElement('div');
    card.className = 'project-item fade-slide-up';
    card.onclick = ()=> openModal(proj.url);
    card.innerHTML = `
      <img src="${proj.image}" alt="${proj.title}">
      <div class="project-info">
        <div class="project-title">${proj.title}</div>
        <div class="project-meta">${proj.description}</div>
        <div class="project-tags">
          ${(proj.tags||[]).map(t=>`<span class="project-tag">${t}</span>`).join('')}
        </div>
      </div>`;
    grid.appendChild(card);
  });
}

/* Achievements data */
const achievements = [
  {
    id: "highlights",
    type: "events",
    icon: "fas fa-film",
    title: "Event Highlights Reel",
    subtitle: "Visual recap of multiple events & achievements",
    short: "Highlights Reel",
    tagline: "Multi-event recap",
    pills: ["Multi-event Coverage", "Video & Design"],
    description: "A short highlight reel that captures key moments from different events Iâ€™ve been part of and coordinated, including on-stage, backstage, and coordination snapshots.",
    media: [
      { type: "video", src: "images/sapan2.mp4", badge: "Video" },
      { type: "image", src: "images/Untitled design.png", badge: "Thumbnail" }
    ],
    meta: "Format: Short-form recap Â· Role: Planning & Media"
  },
  {
    id: "agnitio",
    type: "events",
    icon: "fas fa-fire",
    title: "Agnitio 2025 â€“ Event Glimpses",
    subtitle: "Coordinator & handling for a major college fest",
    short: "Agnitio 2025",
    tagline: "Fest coordination & handling",
    pills: ["Agnitio 2025", "Event Coordination", "On-ground Handling"],
    description: "Some glimpses from Agnitio 2025, where I handled coordination, volunteers, and on-ground event flow. These frames capture the energy, stage moments, and behind-the-scenes work that went into making the fest run smoothly.",
    media: [
      { type: "video", src: "images/agnitio_glimpse.mp4", badge: "Video" },
      { type: "image", src: "images/agnitio1.jpg", badge: "Glimpse" }
    ],
    meta: "Event: Agnitio 2025 Â· Role: Coordinator & Handling Â· Category: College Fest"
  },
  {
    id: "gdg",
    type: "gdg",
    icon: "fas fa-microphone-alt",
    title: "GDG Charusat â€“ Pitch Round",
    subtitle: "Second round project pitching in front of judges",
    short: "GDG Charusat Pitch",
    tagline: "Public speaking & pitching",
    pills: ["Google Developer Groups", "Public Speaking"],
    description: "Presented my project at the GDG Charusat pitch round, explaining the problem, solution, and impact. This helped me sharpen my communication, confidence, and product thinking.",
    media: [
      { type: "video", src: "images/pitch_round_gdg.mp4", badge: "Video" },
      { type: "image", src: "images/gdg3.jpeg", badge: "Thumbnail" }
    ],
    meta: "Focus: Pitching Â· Skills: Presentation, Storytelling, Tech Explanation"
  },
  {
    id: "stackit",
    type: "hackathon",
    icon: "fas fa-trophy",
    title: "GhostKey â€“ Hackathon Winning Project",
    subtitle: "Winner â€“ Minimal Q&A Forum Platform",
    short: "GhostKey â€“ Winning Project",
    tagline: "Hackathon win",
    pills: ["Hackathon Winner", "GhostKey â€“ Q&A Platform"],
    description: "Our project â€œGhostKey â€“ Minimal Q&A Forum Platformâ€ won the Hackathon prize. The focus was on a clean, distraction-free interface that makes asking and answering questions fast and simple.",
    media: [
      { type: "video", src: "images/WhatsApp Video 2025-09-14 at 8.30.28 PM.mp4", badge: "Video" },
      { type: "image", src: "images/parul.jpeg", badge: "Thumbnail" }
    ],
    meta: "Focus: Product + Execution Â· Stack: Web technologies Â· Outcome: Winning team"
  }
];

let currentFilter = 'all';
let currentSelectedId = null;

function renderAchievementDetail(ach){
  const detailEl = document.getElementById('achievementDetail');
  if(!detailEl) return;
  detailEl.innerHTML = `
    <div class="achievement-card">
      <div class="achievement-header">
        <div class="achievement-icon">
          <i class="${ach.icon}"></i>
        </div>
        <div>
          <h3>${ach.title}</h3>
          <div class="achievement-sub">${ach.subtitle}</div>
        </div>
      </div>
      <div class="achievement-pill-row">
        ${(ach.pills||[]).map(p=>`<span class="achievement-pill">${p}</span>`).join('')}
      </div>
      <p>${ach.description}</p>
      <div class="achievement-media-row">
        ${(ach.media||[]).map(m=>`
          <div class="media-thumb" data-full-type="${m.type}" data-full-src="${m.src}">
            ${
              m.type === 'image'
                ? `<img src="${m.src}" alt="${ach.title} media" />`
                : `<video src="${m.src}" muted></video>
                   <div class="media-thumb-play"><i class="fas fa-play"></i></div>`
            }
            <div class="media-thumb-badge">${m.badge}</div>
          </div>
        `).join('')}
      </div>
      <div class="achievement-footer-meta">${ach.meta}</div>
    </div>`;
  detailEl.querySelectorAll('.media-thumb').forEach(t=>{
    t.addEventListener('click', ()=>{
      openMediaModal(t.dataset.fullType, t.dataset.fullSrc);
    });
  });
}

function setActiveAchievement(id){
  currentSelectedId = id;
  const ach = achievements.find(a=>a.id===id);
  if(!ach) return;
  renderAchievementDetail(ach);
  document.querySelectorAll('.timeline-step').forEach(s=>{
    s.classList.toggle('active', s.dataset.id===id);
  });
  document.querySelectorAll('.achievement-mini-card').forEach(c=>{
    c.classList.toggle('active', c.dataset.id===id);
  });
}

function renderAchievementsUI(){
  const tl = document.getElementById('achievementTimeline');
  const mini = document.getElementById('achievementMiniRow');
  if(!tl || !mini) return;
  const list = achievements.filter(a => currentFilter==='all' || a.type===currentFilter);
  tl.innerHTML = '';
  mini.innerHTML = '';
  if(!list.length){
    tl.innerHTML = '<p style="font-size:0.85rem;color:rgba(226,232,240,0.9);">No achievements in this category yet.</p>';
    return;
  }
  const line = document.createElement('div');
  line.className = 'timeline-line';
  tl.appendChild(line);

  list.forEach(ach=>{
    const step = document.createElement('button');
    step.className = 'timeline-step';
    step.dataset.id = ach.id;
    step.innerHTML = `
      <div class="timeline-dot"><i class="${ach.icon}"></i></div>
      <div class="timeline-label">${ach.short}</div>`;
    step.addEventListener('click', ()=>setActiveAchievement(ach.id));
    tl.appendChild(step);
  });

  list.forEach(ach=>{
    const card = document.createElement('div');
    card.className = 'achievement-mini-card';
    card.dataset.id = ach.id;
    const thumb = ach.media && ach.media[0];
    card.innerHTML = `
      <div class="achievement-mini-thumb">
        ${
          thumb
          ? (thumb.type==='image'
              ? `<img src="${thumb.src}" alt="${ach.short}">`
              : `<video src="${thumb.src}" muted></video>`)
          : ''
        }
      </div>
      <div class="achievement-mini-text">
        <span class="mini-title">${ach.short}</span>
        <span class="mini-meta">${ach.tagline}</span>
      </div>`;
    card.addEventListener('click', ()=>setActiveAchievement(ach.id));
    mini.appendChild(card);
  });

  const first = list.find(a=>a.id===currentSelectedId) || list[0];
  if(first) setActiveAchievement(first.id);
}

/* Event modal data */
const eventsDetail = {
  agnitio: {
    title:"Agnitio 2025",
    role:"Event Coordinator & Core Handling",
    place:"CMPICA, CHARUSAT",
    year:"2025",
    tags:["Coordinator","Core Handling Team","College Fest"],
    summary:"Led core coordination for Agnitio 2025, ensuring the fest ran smoothly from planning to closing ceremony.",
    points:[
      "Managed volunteer teams across multiple stages and venues.",
      "Coordinated with faculty, performers, and technical teams.",
      "Handled last-minute changes and on-ground decision making.",
      "Worked on crowd flow, schedules, and announcements."
    ]
  },
  ignite:{
    title:"Ignite â€“ Coming Soon",
    role:"Core Handling Team",
    place:"CMPICA, CHARUSAT",
    year:"2025",
    tags:["Upcoming","Core Handling","Event Planning"],
    summary:"Part of the core team responsible for handling Ignite â€“ from early planning to on-day execution.",
    points:[
      "Involved in planning the event structure and timelines.",
      "Coordinating responsibilities within the core group.",
      "Aligning with faculty and management for approvals.",
      "Preparing checklists and processes for smooth execution."
    ]
  },
  healthcare36:{
    title:"36 Hours AI/ML Healthcare Hackathon",
    role:"Participant",
    place:"Parul University",
    year:"2024â€“2025",
    tags:["Hackathon","AI / ML","Healthcare"],
    summary:"Participated in a continuous 36-hour AI/ML hackathon focused on solving healthcare-related problems.",
    points:[
      "Worked with a team to design and implement an AI/ML solution.",
      "Balanced development, research, and presentation within strict time.",
      "Collaborated with mentors and domain experts for feedback.",
      "Experienced real hackathon pressure and teamwork."
    ]
  },
  techtonic:{
    title:"TechTonic Hackathon 2025",
    role:"Hackathon Coordinator",
    place:"CMPICA, CHARUSAT",
    year:"2025",
    tags:["Coordinator","Hackathon","CMPICA"],
    summary:"Served as a coordinator for TechTonic Hackathon 2025, taking ownership of multiple aspects of the event.",
    points:[
      "Helped in planning rounds, schedule, and communication.",
      "Coordinated between participants, judges, and organizers.",
      "Ensured rules, logistics, and support were clear and well managed.",
      "Contributed to creating a positive hackathon experience."
    ]
  }
};

const eventModal = document.getElementById('eventModal');
const eventModalCard = document.getElementById('eventModalCard');

function openEventModal(id){
  const ev = eventsDetail[id];
  if(!ev || !eventModal || !eventModalCard) return;
  eventModalCard.innerHTML = `
    <div class="event-modal-header">
      <div>
        <div class="event-modal-title">${ev.title}</div>
        <div class="event-modal-meta">${ev.place} â€¢ ${ev.year}</div>
      </div>
      <div class="event-modal-meta"><strong>${ev.role}</strong></div>
    </div>
    <div class="event-modal-tags">
      ${ev.tags.map(t=>`<span class="event-tag-pill">${t}</span>`).join('')}
    </div>
    <div class="event-modal-body">${ev.summary}</div>
    <ul class="event-modal-list">
      ${ev.points.map(p=>`<li>${p}</li>`).join('')}
    </ul>`;
  eventModal.style.display='flex';
  eventModal.setAttribute('aria-hidden','false');
}
function closeEventModal(){
  if(!eventModal) return;
  eventModal.style.display='none';
  eventModal.setAttribute('aria-hidden','true');
}

/* Contact form â€“ NodeMailer backend ready */
const contactForm = document.getElementById('contact-form');
if(contactForm){
  contactForm.addEventListener('submit', async e=>{
    e.preventDefault();
    const statusMsg = document.getElementById('status-message');
    statusMsg.style.display='block';
    statusMsg.style.color='inherit';
    statusMsg.textContent='Sending...';
    const fd = new FormData(contactForm);
    const payload = {
      name: fd.get('name'),
      email: fd.get('email'),
      message: fd.get('message')
    };
    try{
      const res = await fetch('/api/contact',{
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body:JSON.stringify(payload)
      });
      const data = await res.json().catch(()=>({}));
      if(res.ok && data.success){
        statusMsg.textContent='Message sent successfully!';
        statusMsg.style.color='green';
        contactForm.reset();
      }else{
        statusMsg.textContent=data.error || 'Oops! Something went wrong.';
        statusMsg.style.color='red';
      }
    }catch(err){
      console.error(err);
      statusMsg.textContent='Unable to send message. Please try again later.';
      statusMsg.style.color='red';
    }
  });
}

/* Project modal */
function openModal(url){
  const iframe = document.getElementById('projectIframe');
  const modal = document.getElementById('projectModal');
  iframe.src = url;
  modal.style.display='flex';
  modal.setAttribute('aria-hidden','false');
}
function closeModal(){
  const iframe = document.getElementById('projectIframe');
  const modal = document.getElementById('projectModal');
  iframe.src='';
  modal.style.display='none';
  modal.setAttribute('aria-hidden','true');
}

/* DP modal â€“ generic for home DP + team avatars */
function openDpModal(imgSrc){
  const modal = document.getElementById('dpModal');
  const modalImg = document.getElementById('dpModalImg');
  const src = imgSrc || document.getElementById('dpCircle').src;

  modalImg.classList.remove('dp-zoom-in'); // reset animation
  modalImg.src = src;
  modal.style.display = 'flex';
  modal.setAttribute('aria-hidden','false');

  // force reflow so animation restarts every time
  void modalImg.offsetWidth;
  modalImg.classList.add('dp-zoom-in');
}
function closeDpModal(){
  const modal = document.getElementById('dpModal');
  const modalImg = document.getElementById('dpModalImg');
  modalImg.classList.remove('dp-zoom-in');
  modalImg.src='';
  modal.style.display='none';
  modal.setAttribute('aria-hidden','true');
}

/* Media modal */
const mediaModal = document.getElementById('mediaModal');
const mediaModalImg = document.getElementById('mediaModalImg');
const mediaModalVideo = document.getElementById('mediaModalVideo');

function openMediaModal(type, src){
  if(!mediaModal) return;
  mediaModalImg.style.display='none';
  mediaModalVideo.style.display='none';
  mediaModalImg.src='';
  mediaModalVideo.src='';
  if(type==='image'){
    mediaModalImg.src=src;
    mediaModalImg.style.display='block';
  }else if(type==='video'){
    mediaModalVideo.src=src;
    mediaModalVideo.style.display='block';
    mediaModalVideo.play().catch(()=>{});
  }
  mediaModal.style.display='flex';
  mediaModal.setAttribute('aria-hidden','false');
}
function closeMediaModal(){
  if(!mediaModal) return;
  mediaModalImg.style.display='none';
  mediaModalVideo.pause();
  mediaModalVideo.currentTime=0;
  mediaModalVideo.style.display='none';
  mediaModal.style.display='none';
  mediaModal.setAttribute('aria-hidden','true');
}

/* TEAM MODAL helpers */
const teamModal = document.getElementById('teamModal');
const teamModalImg = document.getElementById('teamModalImg');
const teamModalName = document.getElementById('teamModalName');
const teamModalRole = document.getElementById('teamModalRole');
const teamModalTags = document.getElementById('teamModalTags');

function openTeamModal(imgSrc, name, role, tags){
  if(!teamModal) return;
  teamModalImg.src = imgSrc || '';
  teamModalName.textContent = name || '';
  teamModalRole.textContent = role || '';
  teamModalTags.innerHTML = (tags || []).map(t=>`<span class="team-modal-tag">${t}</span>`).join('');
  teamModal.style.display='flex';
  teamModal.setAttribute('aria-hidden','false');
}
function closeTeamModal(){
  if(!teamModal) return;
  teamModalImg.src = '';
  teamModal.style.display='none';
  teamModal.setAttribute('aria-hidden','true');
}

/* backdrop close for media, event, team */
if(mediaModal){
  mediaModal.addEventListener('click',e=>{
    if(e.target===mediaModal) closeMediaModal();
  });
}
if(eventModal){
  eventModal.addEventListener('click',e=>{
    if(e.target===eventModal) closeEventModal();
  });
}
if(teamModal){
  teamModal.addEventListener('click',e=>{
    if(e.target===teamModal) closeTeamModal();
  });
}

/* ESC close for all modals */
document.addEventListener('keydown',e=>{
  if(e.key==='Escape'){
    const modals = [
      document.getElementById('projectModal'),
      document.getElementById('dpModal'),
      mediaModal,
      eventModal,
      teamModal
    ];
    modals.forEach(m=>{
      if(m && m.style.display==='flex'){
        if(m===mediaModal) closeMediaModal();
        else if(m===eventModal) closeEventModal();
        else if(m===teamModal) closeTeamModal();
        else if(m.id==='dpModal') closeDpModal();
        else if(m.id==='projectModal') closeModal();
      }
    });
  }
});

/* Intersection observer */
const observer = new IntersectionObserver(entries=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      entry.target.classList.add('visible');
      observer.unobserve(entry.target);
    }
  });
},{threshold:0.12});

/* SPA navigation */
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>{
    p.classList.remove('active');
    p.style.display='none';
  });
  const target = document.getElementById(id);
  if(!target) return;
  target.style.display='block';
  void target.offsetHeight;
  target.classList.add('active');
  setTimeout(()=>window.scrollTo(0,0),30);
  document.querySelectorAll('nav a[data-target]').forEach(a=>{
    a.classList.toggle('active-link', a.dataset.target===id);
  });
}
document.querySelectorAll('nav a[data-target], .cta-btn[data-target]').forEach(link=>{
  link.addEventListener('click',e=>{
    const t = link.dataset.target;
    if(!t) return;
    e.preventDefault();
    showPage(t);
  });
});

/* DOMContentLoaded */
document.addEventListener('DOMContentLoaded', ()=>{
  document.querySelectorAll('.page').forEach(p=>{
    p.style.display = p.classList.contains('active') ? 'block' : 'none';
  });

  renderProjects();
  document.querySelectorAll('.fade-slide-up').forEach(el=>observer.observe(el));

  if(window.Typed){
    new Typed('#typed-role',{
      strings:[
        "Web Developer",
        "Hackathon Participant",
        "Event Handling Lead",
        "Tech Enthusiast"
      ],
      typeSpeed:60,
      backSpeed:35,
      backDelay:1500,
      loop:true
    });
  }

  document.querySelectorAll('.achievement-filter').forEach(btn=>{
    btn.addEventListener('click',()=>{
      currentFilter = btn.dataset.filter;
      document.querySelectorAll('.achievement-filter').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      renderAchievementsUI();
    });
  });
  renderAchievementsUI();

  document.querySelectorAll('.event-card').forEach(card=>{
    const id = card.dataset.eventId;
    if(id) card.addEventListener('click',()=>openEventModal(id));
  });

  /* TEAM AVATAR CLICK -> DP-style zoom ONLY */
  document.querySelectorAll('.team-avatar').forEach(avatar=>{
    avatar.addEventListener('click', (e)=>{
      e.stopPropagation();           // prevent opening box modal
      openDpModal(avatar.src);       // zoom image
    });
  });

  /* TEAM CARD CLICK -> open detail modal */
  document.querySelectorAll('.team-card').forEach(card=>{
    card.addEventListener('click', ()=>{
      const avatar = card.querySelector('.team-avatar');
      const name = card.querySelector('.team-name')?.innerText || '';
      const role = card.querySelector('.team-role')?.innerText || '';
      const tags = Array.from(card.querySelectorAll('.team-tag'))
                    .map(t=>t.innerText.trim())
                    .filter(Boolean);
      openTeamModal(avatar ? avatar.src : '', name, role, tags);
    });
  });
});
</script>
</body>
</html>

